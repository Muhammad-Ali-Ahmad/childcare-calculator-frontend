@*
 * Copyright 2017 HM Revenue & Customs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *@

@import uk.gov.hmrc.childcarecalculatorfrontend.utils.InputOption
@import uk.gov.hmrc.childcarecalculatorfrontend.viewmodels.InputViewModelBase

@(
  field: Field,
  legend: String,
  legendClass: Option[String] = None,
  hint: Option[String] = None,
  trackGa: Boolean = false,
  inputs: Seq[InputOption]
)(implicit messages: Messages)

<div class="form-field">
    <fieldset class="form-group" id="@{field.id}">
        <legend class="bold-small @if(legendClass.nonEmpty){@{legendClass.get}}">@legend</legend>
        @if(hint.nonEmpty) {
            <span class="form-hint">
                @hint.get
            </span>
        }
        @field.errors.map { error =>
            <span class="error-notification" id="error-message-@field.id-input">
                @messages(error.message, error.args: _*)
            </span>
        }
        @for((input, i) <- inputs.zipWithIndex) {
            <div class="multiple-choice">
                <input id="@input.id" type="checkbox" name="@{field.name}[@i]" value="@input.value" @if(field(s"[$i]").value.contains(input.value)){ checked="checked"} @if(trackGa){data-journey-click="childcare-calculator-frontend:click:@input.id"} />
                <label class="block-label" for="@input.id">
                    @messages(input.messageKey)
                </label>
            </div>
        }
    </fieldset>
</div>
